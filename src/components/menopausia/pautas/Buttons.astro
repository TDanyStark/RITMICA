---
import Button from "@/components/Button.astro";
import InfoEtapasConceptos from "./InfoEtapasConceptos.astro";
import InfoSintomas from "./InfoSintomas.astro";
import InfoCuandoIniciar from "./InfoCuandoIniciar.astro";
import InfoTipoPacientes from "./InfoTipoPacientes.astro";
import InfoRecomendaciones from "./InfoRecomendaciones.astro";
import InfoBeneficios from "./InfoBeneficios.astro";
---

<div
  id="main-menu"
  class="h-full flex flex-col justify-center gap-3 max-w-4xl mx-auto md:p-4 w-full px-2"
>
  <Button
    idbtn="btn-etapas-conceptos"
    label="ETAPAS DE LA MENOPAUSIA / CONCEPTOS CLAVE"
  />
  <Button idbtn="btn-sintomas" label="SÍNTOMAS" />
  <Button
    idbtn="btn-cuando-iniciar"
    label="CUÁNDO INICIAR LA TERAPIA HORMONAL / CONSIDERACIONES ANTES DE INICIAR"
  />
  <Button
    idbtn="btn-tipo-pacientes"
    label="TIPO DE PACIENTES EN LAS QUE ESTÁ INDICADA LA TERAPIA HORMONAL"
  />
  <Button
    idbtn="btn-recomendaciones"
    label="RECOMENDACIONES PARA MUJERES CON CONDICIONES ESPECÍFICAS"
  />
  <Button idbtn="btn-beneficios" label="BENEFICIOS DE LA TERAPIA HORMONAL" />
</div>

<div id="content-area" class="hidden flex-1 md:p-4 w-full">
  <div>
    <button
      id="btn-back"
      class="mb-6 bg-purple-abbott text-white rounded-full py-2 px-6 font-brandon font-bold hover:bg-pink-abbott transition-colors flex items-center gap-2"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-5 h-5"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path>
      </svg>
      VOLVER
    </button>
  </div>

  <!-- Placeholder content sections for each menu item. Replace with real components as needed. -->
  <InfoEtapasConceptos />
  <InfoSintomas />
  <InfoCuandoIniciar />
  <InfoTipoPacientes />
  <InfoRecomendaciones />
  <InfoBeneficios />
</div>

<script data-astro-rerun is:inline>
  document.addEventListener("astro:page-load", () => {
    const menu = document.getElementById("main-menu");
    const contentArea = document.getElementById("content-area");
    const backBtn = document.getElementById("btn-back");
    const buttons = document.querySelectorAll(".menu-btn");
    const contents = document.querySelectorAll(".info-content");

    buttons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const id = btn.id.replace("btn-", "info-");
        const content = document.getElementById(id);

        if (content) {
          menu?.classList.add("hidden");
          contentArea?.classList.remove("hidden");
          contentArea?.classList.add("flex", "flex-col");

          // Hide all contents first
          contents.forEach((c) => c.classList.add("hidden"));
          // Show selected content
          content.classList.remove("hidden");
        }
      });
    });

    backBtn?.addEventListener("click", () => {
      contentArea?.classList.add("hidden");
      contentArea?.classList.remove("flex", "flex-col");
      menu?.classList.remove("hidden");
      // Hide all contents
      contents.forEach((c) => c.classList.add("hidden"));
    });
  });
</script>
